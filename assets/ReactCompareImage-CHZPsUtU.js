import{r as l}from"./index-B8HFizgY.js";var O={exports:{}},$={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W;function ne(){if(W)return $;W=1;var o=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function d(e,a,p){var w=null;if(p!==void 0&&(w=""+p),a.key!==void 0&&(w=""+a.key),"key"in a){p={};for(var y in a)y!=="key"&&(p[y]=a[y])}else p=a;return a=p.ref,{$$typeof:o,type:e,key:w,ref:a!==void 0?a:null,props:p}}return $.Fragment=s,$.jsx=d,$.jsxs=d,$}var q;function re(){return q||(q=1,O.exports=ne()),O.exports}var t=re(),ie="Invariant failed";function J(o,s){if(!o)throw new Error(ie)}function oe(o){const s=l.useRef(null);return l.useLayoutEffect(()=>{if(!s.current)return;const d=new ResizeObserver(e=>{J(e[0]),o(e[0].contentRect.width)});return d.observe(s.current),o(s.current.getBoundingClientRect().width),()=>{d.disconnect()}},[o]),s}function se(o,s,d,e){const a=e==="taller"?Math.max(s,d):Math.min(s,d);return o*a}function G(o){return o.naturalHeight/o.naturalWidth}const le=o=>{const{aspectRatio:s="taller",handle:d=null,handleSize:e=40,hover:a=!1,leftImage:p,leftImageAlt:w="",leftImageCss:y={},leftImageLabel:P=null,onSliderPositionChange:A,rightImage:D,rightImageAlt:K="",rightImageCss:N={},rightImageLabel:F=null,skeleton:M=null,sliderLineColor:E="#ffffff",sliderLineWidth:L=2,sliderPositionPercentage:Q=.5,vertical:U=!1}=o,n=!U,[u,Z]=l.useState(Q),[B,T]=l.useState(!1),[x,_]=l.useState(0),[c,V]=l.useState(0),m=oe(r=>_(r)),j=l.useRef(null),C=l.useRef(null),[v,X]=l.useState(!1),I=l.useCallback(()=>{var r,g;(r=C.current)!=null&&r.complete&&(g=j.current)!=null&&g.complete&&X(!0)},[]);l.useEffect(()=>(I(),()=>{X(!1)}),[p,D]),l.useEffect(()=>{if(!(C.current&&j.current)||x===0||!v)return;const r=se(x,G(C.current),G(j.current),s);V(r)},[x,v,s]),l.useEffect(()=>{if(!m.current||!v)return;const r=f=>{if(!m.current)return;const Y=m.current.getBoundingClientRect();let S,k;if(f instanceof TouchEvent){const z=f.touches[0];J(z),S=z.clientX,k=z.clientY}else S=f.clientX,k=f.clientY;const ee=n?S-Y.left:k-Y.top,R=L/2,te=n?x-R:c-R,H=Math.min(Math.max(ee,R),te)/(n?x:c);Z(H),A==null||A(H)},g=f=>{T(!0),"touches"in f||f.preventDefault(),r(f),window.addEventListener("mousemove",r),window.addEventListener("touchmove",r)},b=()=>{T(!1),window.removeEventListener("mousemove",r),window.removeEventListener("touchmove",r)},h=m.current;return h.addEventListener("touchstart",g),window.addEventListener("touchend",b),a?(h.addEventListener("mousemove",r),h.addEventListener("mouseleave",b)):(h.addEventListener("mousedown",g),window.addEventListener("mouseup",b)),()=>{h.removeEventListener("touchstart",g),window.removeEventListener("touchend",b),h.removeEventListener("mousemove",r),h.removeEventListener("mouseleave",b),h.removeEventListener("mousedown",g),window.removeEventListener("mouseup",b),window.removeEventListener("mousemove",r),window.removeEventListener("touchmove",r)}},[v,s,c,x,n,a,L,m]);const i={container:{boxSizing:"border-box",position:"relative",width:"100%",height:`${c}px`,overflow:"hidden"},rightImage:{clipPath:n?`inset(0px 0px 0px ${x*u}px)`:`inset(${c*u}px 0px 0px 0px)`,display:"block",height:"100%",objectFit:"cover",position:"absolute",width:"100%",...N},leftImage:{clipPath:n?`inset(0px ${x*(1-u)}px 0px 0px)`:`inset(0px 0px ${c*(1-u)}px 0px)`,display:"block",height:"100%",objectFit:"cover",position:"absolute",width:"100%",...y},slider:{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",...n?{cursor:"ew-resize",flexDirection:"column",height:"100%",left:`${x*u-e/2}px`,top:0,width:`${e}px`}:{cursor:"ns-resize",flexDirection:"row",height:`${e}px`,left:0,top:`${c*u-e/2}px`,width:"100%"}},line:{background:E,boxShadow:"0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)",flex:"0 1 auto",height:n?"100%":`${L}px`,width:n?`${L}px`:"100%"},handleCustom:{alignItems:"center",boxSizing:"border-box",display:"flex",flex:"1 0 auto",height:"auto",justifyContent:"center",width:"auto"},handleDefault:{alignItems:"center",border:`${L}px solid ${E}`,borderRadius:"100%",boxShadow:"0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)",boxSizing:"border-box",display:"flex",flex:"1 0 auto",height:`${e}px`,justifyContent:"center",width:`${e}px`,transform:n?"none":"rotate(90deg)"},leftArrow:{border:`inset ${e*.15}px rgba(0,0,0,0)`,borderRight:`${e*.15}px solid ${E}`,height:"0px",marginLeft:`-${e*.25}px`,marginRight:`${e*.25}px`,width:"0px"},rightArrow:{border:`inset ${e*.15}px rgba(0,0,0,0)`,borderLeft:`${e*.15}px solid ${E}`,height:"0px",marginRight:`-${e*.25}px`,width:"0px"},leftLabel:{background:"rgba(0, 0, 0, 0.5)",color:"white",left:n?"5%":"50%",opacity:B?0:1,padding:"10px 20px",position:"absolute",top:n?"50%":"3%",transform:n?"translate(0,-50%)":"translate(-50%, 0)",transition:"opacity 0.1s ease-out"},rightLabel:{background:"rgba(0, 0, 0, 0.5)",color:"white",opacity:B?0:1,padding:"10px 20px",position:"absolute",...n?{right:"5%",top:"50%",transform:"translate(0,-50%)"}:{left:"50%",bottom:"3%",transform:"translate(-50%, 0)"},transition:"opacity 0.1s ease-out"},leftLabelContainer:{clipPath:n?`inset(0px ${x*(1-u)}px 0px 0px)`:`inset(0px 0px ${c*(1-u)}px 0px)`,height:"100%",position:"absolute",width:"100%"},rightLabelContainer:{clipPath:n?`inset(0px 0px 0px ${x*u}px)`:`inset(${c*u}px 0px 0px 0px)`,height:"100%",position:"absolute",width:"100%"}};return t.jsxs(t.Fragment,{children:[M&&!v&&t.jsx("div",{style:{...i.container},children:M}),t.jsxs("div",{style:{...i.container,display:v?"block":"none"},ref:m,"data-testid":"container",children:[t.jsx("img",{onLoad:()=>I(),alt:K,"data-testid":"right-image",ref:j,src:D,style:i.rightImage}),t.jsx("img",{onLoad:()=>I(),alt:w,"data-testid":"left-image",ref:C,src:p,style:i.leftImage}),t.jsxs("div",{style:i.slider,children:[t.jsx("div",{style:i.line}),d?t.jsx("div",{style:i.handleCustom,children:d}):t.jsxs("div",{style:i.handleDefault,children:[t.jsx("div",{style:i.leftArrow}),t.jsx("div",{style:i.rightArrow})]}),t.jsx("div",{style:i.line})]}),P&&t.jsx("div",{style:i.leftLabelContainer,children:t.jsx("div",{style:i.leftLabel,children:P})}),F&&t.jsx("div",{style:i.rightLabelContainer,children:t.jsx("div",{style:i.rightLabel,children:F})})]})]})};export{le as default};
