const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ReactCompareImage-Dspa-UxA.js","assets/index-CqbpBgXV.js","assets/index-gi_9FtRM.css"])))=>i.map(i=>d[i]);
import{r as d,j as s,R as p,_ as N}from"./index-CqbpBgXV.js";import{u as S}from"./useMobileDevice-DRzHsxpC.js";import{g as E}from"./getResponsiveWidth-BvLQKfow.js";import{v as A}from"./validateScale-DmQ293Cn.js";import{r as i}from"./mediaPath-DATeMewo.js";import{S as $}from"./spacingClasses-D_WGxdVr.js";import{A as I}from"./alignmentClasses-D1Jagod6.js";class w extends d.Component{state={hasError:!1};static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,e){console.error(`ErrorBoundary caught error in ${this.props.name||"component"}:`,t,e)}render(){return this.state.hasError?this.props.fallback||s.jsx("div",{className:"p-4 border border-red-500 rounded bg-red-50 text-red-700",children:s.jsxs("p",{className:"font-bold",children:["Something went wrong in ",this.props.name||"this component","."]})}):this.props.children}}const _=d.lazy(()=>N(()=>import("./ReactCompareImage-Dspa-UxA.js"),__vite__mapDeps([0,1,2]))),G=({index:o,styles:t,imageCompareData:e})=>{const[f,j]=p.useState(.5),h=S(),b=A(e.scale),u=e.alignment??"center",c=E(b,h),m=`${$.medium} ${I[u].text}`,a=h?"w-full":I[u].container,l=e.beforeImage?.src?i(e.beforeImage.src):"",n=e.afterImage?.src?i(e.afterImage.src):"",v=e.sliderColor||"#ffffff";if(e.type==="individual"&&l&&n)return s.jsx("div",{className:m,children:s.jsx("div",{className:`flex gap-4 justify-center ${a}`,style:{width:c},children:[e.beforeImage,e.afterImage].map((r,x)=>{const g=r?.src?i(r.src):"";return s.jsxs("div",{className:"w-1/2",children:[s.jsx("img",{src:g,alt:r?.alt||(x===0?"Before":"After"),className:"w-full h-auto"}),r?.alt&&s.jsx("p",{className:`${t.text.caption} mt-2 text-center`,children:r.alt})]},x)})})},o);if(e.type==="slider"&&l&&n){const r=s.jsxs("div",{className:`flex gap-4 justify-center ${a}`,style:{width:c},children:[s.jsx("div",{className:"w-1/2",children:s.jsx("img",{src:l,alt:"Before",className:"w-full h-auto"})}),s.jsx("div",{className:"w-1/2",children:s.jsx("img",{src:n,alt:"After",className:"w-full h-auto"})})]});return s.jsx("div",{className:m,children:s.jsxs("div",{className:a,style:{width:c},children:[s.jsx(d.Suspense,{fallback:s.jsx("div",{className:`h-64 animate-pulse rounded ${t.sections.contentBackground||"sst-content-bg"}`}),children:s.jsx(w,{name:"ImageCompareSlider",fallback:r,children:s.jsx(_,{leftImage:l,rightImage:n,onSliderPositionChange:j,sliderLineColor:v,leftImageAlt:e.beforeImage?.alt??"Before",rightImageAlt:e.afterImage?.alt??"After"})})}),e.showPercentage&&(e.beforeImage?.alt||e.afterImage?.alt)&&s.jsxs("p",{className:`mt-2 ${t.text.alternative} text-center italic`,children:[e.beforeImage?.alt&&`${Math.round(f*100)}% ${e.beforeImage.alt}`,e.beforeImage?.alt&&e.afterImage?.alt&&" / ",e.afterImage?.alt&&`${100-Math.round(f*100)}% ${e.afterImage.alt}`]})]})},o)}return null};export{G as ImageCompareBlock,G as default};
