const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/prism-SK9YwAkn.js","assets/index-CSzWdVZ4.js","assets/index-CichMY9N.css","assets/prism-tomorrow-Cg1sXqY3.css","assets/prism-languages.generated-cXEHfldp.js"])))=>i.map(i=>d[i]);
import{c as N,r as a,j as e,_ as j,C as H}from"./index-CSzWdVZ4.js";/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],A=N("check",O);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],U=N("chevron-up",F);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],B=N("copy",z);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],V=N("download",G),v={javascript:{name:"JavaScript",ext:"js"},typescript:{name:"TypeScript",ext:"ts"},python:{name:"Python",ext:"py"},java:{name:"Java",ext:"java"},csharp:{name:"C#",ext:"cs"},cpp:{name:"C++",ext:"cpp"},c:{name:"C",ext:"c"},php:{name:"PHP",ext:"php"},ruby:{name:"Ruby",ext:"rb"},go:{name:"Go",ext:"go"},rust:{name:"Rust",ext:"rs"},swift:{name:"Swift",ext:"swift"},kotlin:{name:"Kotlin",ext:"kt"},scala:{name:"Scala",ext:"scala"},html:{name:"HTML",ext:"html"},css:{name:"CSS",ext:"css"},scss:{name:"SCSS",ext:"scss"},sass:{name:"Sass",ext:"sass"},less:{name:"Less",ext:"less"},json:{name:"JSON",ext:"json"},xml:{name:"XML",ext:"xml"},yaml:{name:"YAML",ext:"yml"},toml:{name:"TOML",ext:"toml"},sql:{name:"SQL",ext:"sql"},bash:{name:"Bash",ext:"sh"},powershell:{name:"PowerShell",ext:"ps1"},dockerfile:{name:"Dockerfile",ext:"dockerfile"},markdown:{name:"Markdown",ext:"md"},latex:{name:"LaTeX",ext:"tex"},plaintext:{name:"Plain Text",ext:"txt"},text:{name:"Text",ext:"txt"}},$=a.memo(({content:d})=>{const i=d.split(`
`);return e.jsx("div",{className:"select-none pr-4 text-sm text-gray-500 border-r border-gray-300 dark:border-gray-600 flex-shrink-0",children:i.map((t,u)=>e.jsx("div",{className:"text-right leading-6 min-h-[1.5rem]",children:u+1},u))})});$.displayName="LineNumbers";const q=d=>d.replace(/[^\w\-_.]/g,"_"),J=(d,i)=>{const[t,u]=a.useState(!1),h=a.useRef(new Map),p=a.useRef(null);return a.useEffect(()=>{let l=!0;return(async()=>{try{await j(()=>import("./prism-SK9YwAkn.js").then(x=>x.p),__vite__mapDeps([0,1,2])),await Promise.all([j(()=>Promise.resolve({}),__vite__mapDeps([3])),j(()=>import("./prism-languages.generated-cXEHfldp.js").then(x=>x.p),__vite__mapDeps([4,1,2]))]),l&&u(!0)}catch(x){console.warn("Failed to load Prism.js:",x),l&&u(!0)}})(),()=>{l=!1}},[]),a.useEffect(()=>{if(!(!t||!i))return p.current&&clearTimeout(p.current),p.current=setTimeout(async()=>{try{const l=await j(()=>import("./prism-SK9YwAkn.js").then(r=>r.p),__vite__mapDeps([0,1,2]));d.forEach((r,x)=>{const m=h.current.get(`${x}`);if(m)try{const y=l.languages[r.language]||l.languages.plaintext;m.innerHTML=l.highlight(r.content,y,r.language)}catch(y){console.warn(`Failed to highlight ${r.language}:`,y),m.textContent=r.content}})}catch(l){console.warn("Failed to highlight code:",l)}},100),()=>{p.current&&clearTimeout(p.current)}},[t,d,i]),{prismLoaded:t,codeRefs:h}},X=({index:d,styles:i,codeData:t,onCopy:u,onLanguageChange:h})=>{const[p,l]=a.useState(null),[r,x]=a.useState(0),[m,y]=a.useState(t.defaultCollapsed),g=a.useRef(null),c=a.useMemo(()=>{var s;return(s=t.sections)!=null&&s.length?t.sections.map(({language:n,...o})=>({language:v[n]?n:"plaintext",...o})):t.content?[{language:v[t.language]?t.language:"plaintext",content:t.content,filename:t.name}]:[]},[t.sections,t.content,t.language,t.name]),{prismLoaded:T,codeRefs:S}=J(c,!m),w=c[r],b=a.useCallback(s=>{var n;return((n=v[s])==null?void 0:n.name)||s},[]),L=a.useCallback(async s=>{const n=c[s];if(n)try{await navigator.clipboard.writeText(n.content),l(`${s}`),g.current&&clearTimeout(g.current),g.current=setTimeout(()=>l(null),2e3),u==null||u(n.content,n.language)}catch{const o=document.createElement("textarea");o.value=n.content,document.body.appendChild(o),o.select();try{document.execCommand("copy"),l(`${s}`),g.current=setTimeout(()=>l(null),2e3)}finally{document.body.removeChild(o)}}},[c,u]),E=a.useCallback(s=>{var o;const n=c[s];if(n)try{const k=new Blob([n.content],{type:"text/plain"}),C=URL.createObjectURL(k),f=document.createElement("a"),P=((o=v[n.language])==null?void 0:o.ext)??"txt",M=n.filename?q(n.filename):`code-${d}-${s}.${P}`;f.href=C,f.download=M,f.style.display="none",document.body.appendChild(f),f.click(),document.body.removeChild(f),setTimeout(()=>URL.revokeObjectURL(C),100)}catch(k){console.error("Failed to download file:",k)}},[c,d]),R=a.useCallback(s=>{s>=0&&s<c.length&&(x(s),h==null||h(c[s].language))},[c,h]);if(a.useEffect(()=>()=>{g.current&&clearTimeout(g.current)},[]),!c.length)return e.jsx("div",{className:"mb-6 p-4 border rounded text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-800",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-sm",children:"No code content provided"})})});const _=c.length>1;return e.jsxs("div",{className:"relative mb-6 overflow-hidden rounded",children:[e.jsxs("div",{className:`flex items-center justify-between px-3 py-2 ${i.code.header}`,children:[e.jsx("div",{className:"flex items-center gap-2 min-w-0 flex-1 flex-wrap",children:_?e.jsxs(e.Fragment,{children:[t.name&&e.jsx("span",{className:"truncate",children:t.name}),e.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:c.map((s,n)=>e.jsx("button",{onClick:()=>R(n),className:`flex justify-center items-center gap-1 py-1 px-2 text-xs rounded transition-colors cursor-pointer ${n===r?i.buttons.tabSmallActive:i.buttons.tabSmall}`,title:`Switch to ${b(s.language)}`,children:b(s.language)},n))})]}):e.jsx("span",{className:"truncate",children:t.name??w.filename??b(w.language)})}),e.jsxs("div",{className:"flex gap-1 items-center flex-shrink-0",children:[t.collapsible&&e.jsxs("button",{onClick:()=>y(!m),className:`flex justify-center items-center gap-1 py-1 px-2 text-xs rounded transition-colors cursor-pointer ${i.buttons.small}`,title:m?"Expand code block":"Collapse code block",children:[m?e.jsx(H,{className:"w-3 h-3"}):e.jsx(U,{className:"w-3 h-3"}),e.jsx("span",{className:"hidden sm:inline",children:m?"Show":"Hide"})]}),t.allowDownload&&e.jsxs("button",{onClick:()=>E(r),className:`flex justify-center items-center gap-1 py-1 px-2 text-xs rounded transition-colors cursor-pointer ${i.buttons.small}`,title:"Download code file",children:[e.jsx(V,{className:"w-3 h-3"}),e.jsx("span",{className:"hidden sm:inline",children:"Download"})]}),e.jsxs("button",{onClick:()=>L(r),className:`flex justify-center items-center gap-1 py-1 px-2 text-xs rounded transition-colors cursor-pointer ${i.buttons.small}`,title:"Copy code to clipboard",children:[p===`${r}`?e.jsx(A,{className:"w-3 h-3 text-green-500"}):e.jsx(B,{className:"w-3 h-3"}),e.jsx("span",{className:"hidden sm:inline",children:p===`${r}`?"Copied!":"Copy"})]})]})]}),e.jsxs("div",{className:"relative overflow-hidden transition-all duration-300 ease-in-out",style:{maxHeight:m?"0px":t.maxHeight,opacity:m?0:1},children:[e.jsx("pre",{className:`language-${w.language} !m-0 overflow-x-auto w-full text-sm ${t.wrapLines?"whitespace-pre-wrap":"whitespace-pre"}`,style:{maxHeight:t.maxHeight},children:e.jsxs("div",{className:"flex min-h-full",children:[t.showLineNumbers&&e.jsx($,{content:w.content}),e.jsx("div",{className:"flex-1 relative",children:c.map((s,n)=>e.jsx("code",{ref:o=>{o&&(S.current.set(`${n}`,o),T||(o.textContent=s.content))},className:`!language-${s.language} block !p-4 ${t.wrapLines?"break-words":""} ${n===r?"block":"hidden"}`,style:{minHeight:"1.5rem"}},n))})]})}),!_&&e.jsx("div",{className:`absolute top-2 right-2 px-2 py-1 rounded text-xs backdrop-blur-sm ${i.code.language}`,children:b(w.language)})]})]},d)},Q=a.memo(X);export{Q as default};
