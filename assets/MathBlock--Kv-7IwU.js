import{r as l,_ as S,j as a}from"./index-30M-oanY.js";import{S as f,A as x}from"./index-D-rIoall.js";const p=r=>{const[d,t]=l.useState(""),[o,s]=l.useState(!0),[m,i]=l.useState(null);return l.useEffect(()=>{let n=!0;if(s(!0),i(null),!r.trim()){t(""),s(!1);return}return S(()=>import("./katex-ChWnQ-fc.js"),[]).then(c=>{if(n)try{const e=c.renderToString(r.trim(),{throwOnError:!1,output:"html",trust:!1,strict:"warn"});t(e)}catch{i("Invalid LaTeX"),t('<span class="text-red-500">Invalid LaTeX</span>')}finally{s(!1)}}).catch(()=>{n&&(i("Failed to load KaTeX"),t('<span class="text-red-500">Failed to load KaTeX</span>'),s(!1))}),()=>{n=!1}},[r]),{html:d,isLoading:o,error:m}},h={left:"flex-start",center:"center",right:"flex-end"},E=({index:r,styles:d,mathData:t})=>{const o=t.expression??"",s=l.useMemo(()=>o.trim(),[o]),{html:m,isLoading:i,error:n}=p(s);if(!s)return null;const c=(t.alignment??"center").toLowerCase(),e=["left","right"].includes(c)?c:"center",u=l.useMemo(()=>({display:"flex",justifyContent:h[e]??h.center,width:"100%",textAlign:e}),[e]);return i?a.jsx("div",{className:`${f.medium} ${x[e].text}`,children:a.jsx("div",{style:u,children:a.jsx("div",{className:"animate-pulse bg-gray-200 h-8 rounded w-24"})})},r):a.jsxs("div",{className:`${f.medium} ${x[e].text}`,children:[a.jsx("div",{className:`${d.text.math} math-block`,style:u,dangerouslySetInnerHTML:{__html:m}}),n&&a.jsx("div",{className:"mt-2 text-sm text-red-500",role:"alert",children:n})]},r)};export{E as MathBlock,E as default};
