import{r as o,_ as g,j as a}from"./index-CyEw6W5r.js";import{S as f}from"./spacingClasses-D_WGxdVr.js";import{A as x}from"./alignmentClasses-D1Jagod6.js";const p=r=>{const[l,t]=o.useState(""),[m,s]=o.useState(!0),[d,i]=o.useState(null);return o.useEffect(()=>{let n=!0;if(s(!0),i(null),!r.trim()){t(""),s(!1);return}return g(()=>import("./katex-XbL3y5x-.js"),[]).then(c=>{if(n)try{const e=c.renderToString(r.trim(),{throwOnError:!1,output:"html",trust:!1,strict:"warn"});t(e)}catch{i("Invalid LaTeX"),t('<span class="sst-msg-error">Invalid LaTeX</span>')}finally{s(!1)}}).catch(()=>{n&&(i("Failed to load KaTeX"),t('<span class="sst-msg-error">Failed to load KaTeX</span>'),s(!1))}),()=>{n=!1}},[r]),{html:l,isLoading:m,error:d}},h={left:"flex-start",center:"center",right:"flex-end"},L=({index:r,styles:l,mathData:t})=>{const m=t.expression??"",s=o.useMemo(()=>m.trim(),[m]),{html:d,isLoading:i,error:n}=p(s);if(!s)return null;const c=(t.alignment??"center").toLowerCase(),e=c==="left"||c==="right"?c:"center",u=o.useMemo(()=>({display:"flex",justifyContent:h[e]??h.center,width:"100%",textAlign:e}),[e]);return i?a.jsx("div",{className:`${f.medium} ${x[e].text}`,children:a.jsx("div",{style:u,children:a.jsx("div",{className:`animate-pulse h-8 rounded w-24 ${l.sections.contentBackground||"sst-content-bg"}`})})},r):a.jsxs("div",{className:`${f.medium} ${x[e].text}`,children:[a.jsx("div",{className:`${l.text.math} math-block`,style:u,dangerouslySetInnerHTML:{__html:d}}),n&&a.jsx("div",{className:`mt-2 text-sm rounded p-2 ${l.messageBox.error||"sst-msg-error"}`,role:"alert",children:n})]},r)};export{L as MathBlock,L as default};
