import{r as l,_ as x,j as n}from"./index-ZaEF6Che.js";import{S as c,A as f}from"./index-DO4EmSem.js";const h=s=>{const[d,e]=l.useState(""),[i,t]=l.useState(!0),[m,a]=l.useState(null);return l.useEffect(()=>{let r=!0;if(t(!0),a(null),!s.trim()){e(""),t(!1);return}return x(()=>import("./katex-ChWnQ-fc.js"),[]).then(o=>{if(r)try{const u=o.renderToString(s.trim(),{throwOnError:!1,output:"html",trust:!1,strict:"warn"});e(u)}catch{a("Invalid LaTeX"),e('<span class="text-red-500">Invalid LaTeX</span>')}finally{t(!1)}}).catch(()=>{r&&(a("Failed to load KaTeX"),e('<span class="text-red-500">Failed to load KaTeX</span>'),t(!1))}),()=>{r=!1}},[s]),{html:d,isLoading:i,error:m}},_=({index:s,styles:d,mathData:e})=>{const i=e.expression??"",t=l.useMemo(()=>i.trim(),[i]),{html:m,isLoading:a,error:r}=h(t);if(!t)return null;const o=e.alignment??"center";return a?n.jsx("div",{className:`${c.medium} ${f[o].text}`,children:n.jsx("div",{className:"animate-pulse bg-gray-200 h-8 rounded"})},s):n.jsxs("div",{className:`${c.medium} ${f[o].text}`,children:[n.jsx("div",{className:d.text.math,dangerouslySetInnerHTML:{__html:m}}),r&&n.jsx("div",{className:"mt-2 text-sm text-red-500",role:"alert",children:r})]},s)};export{_ as default};
