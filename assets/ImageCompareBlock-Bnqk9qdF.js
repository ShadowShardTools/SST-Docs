const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ReactCompareImage-ukdbQn3F.js","assets/index-BTkkAtaC.js","assets/index-ffn6D79c.css"])))=>i.map(i=>d[i]);
import{r as d,j as s,R as p,_ as v}from"./index-BTkkAtaC.js";import{u as N,w as i}from"./useMobileDevice-H10m1CMj.js";import{v as w,g as E}from"./getResponsiveWidth-DYYytnAl.js";import{S as $}from"./spacingClasses-D_WGxdVr.js";import{A as I}from"./alignmentClasses-D1Jagod6.js";class _ extends d.Component{state={hasError:!1};static getDerivedStateFromError(r){return{hasError:!0}}componentDidCatch(r,e){console.error(`ErrorBoundary caught error in ${this.props.name||"component"}:`,r,e)}render(){return this.state.hasError?this.props.fallback||s.jsx("div",{className:"p-4 border border-red-500 rounded bg-red-50 text-red-700",children:s.jsxs("p",{className:"font-bold",children:["Something went wrong in ",this.props.name||"this component","."]})}):this.props.children}}const A=d.lazy(()=>v(()=>import("./ReactCompareImage-ukdbQn3F.js"),__vite__mapDeps([0,1,2]))),M=({index:o,styles:r,imageCompareData:e})=>{const[f,j]=p.useState(.5),h=N(),S=w(e.scale),u=e.alignment??"center",c=E(S,h),m=`${$.medium} ${I[u].text}`,a=h?"w-full":I[u].container,l=e.beforeImage?.src?i(e.beforeImage.src,"/SST-Docs/"):"",n=e.afterImage?.src?i(e.afterImage.src,"/SST-Docs/"):"",g=e.sliderColor||"#ffffff";if(e.type==="individual"&&l&&n)return s.jsx("div",{className:m,children:s.jsx("div",{className:`flex gap-4 justify-center ${a}`,style:{width:c},children:[e.beforeImage,e.afterImage].map((t,x)=>{const b=t?.src?i(t.src,"/SST-Docs/"):"";return s.jsxs("div",{className:"w-1/2",children:[s.jsx("img",{src:b,alt:t?.alt||(x===0?"Before":"After"),className:"w-full h-auto"}),t?.alt&&s.jsx("p",{className:`${r.text.caption} mt-2 text-center`,children:t.alt})]},x)})})},o);if(e.type==="slider"&&l&&n){const t=s.jsxs("div",{className:`flex gap-4 justify-center ${a}`,style:{width:c},children:[s.jsx("div",{className:"w-1/2",children:s.jsx("img",{src:l,alt:"Before",className:"w-full h-auto"})}),s.jsx("div",{className:"w-1/2",children:s.jsx("img",{src:n,alt:"After",className:"w-full h-auto"})})]});return s.jsx("div",{className:m,children:s.jsxs("div",{className:a,style:{width:c},children:[s.jsx(d.Suspense,{fallback:s.jsx("div",{className:`h-64 animate-pulse rounded ${r.sections.contentBackground||"sst-content-bg"}`}),children:s.jsx(_,{name:"ImageCompareSlider",fallback:t,children:s.jsx(A,{leftImage:l,rightImage:n,onSliderPositionChange:j,sliderLineColor:g,leftImageCss:{maxWidth:"100%",height:"auto"},rightImageCss:{maxWidth:"100%",height:"auto"}})})}),e.showPercentage&&(e.beforeImage?.alt||e.afterImage?.alt)&&s.jsxs("p",{className:`mt-2 ${r.text.alternative} text-center italic`,children:[e.beforeImage?.alt&&`${Math.round(f*100)}% ${e.beforeImage.alt}`,e.beforeImage?.alt&&e.afterImage?.alt&&" / ",e.afterImage?.alt&&`${100-Math.round(f*100)}% ${e.afterImage.alt}`]})]})},o)}return null};export{M as ImageCompareBlock,M as default};
