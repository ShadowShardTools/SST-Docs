import{r as x,j as e}from"./index-CFCBRvUs.js";const v=(t,o)=>t.replace(new RegExp(`(${o})`,"ig"),'<mark class="bg-yellow-200">$1</mark>'),$=({styles:t,isOpen:o,onClose:i,searchTerm:d,onSearchChange:S,results:a,onSelect:h})=>{const[m,p]=x.useState(0),u=x.useRef(null);return x.useEffect(()=>{o?setTimeout(()=>{var n;return(n=u.current)==null?void 0:n.focus()},100):p(0)},[o]),x.useEffect(()=>{const n=c=>{if(o)switch(c.key){case"Escape":c.preventDefault(),i();break;case"ArrowDown":c.preventDefault(),p(r=>Math.min(r+1,a.length-1));break;case"ArrowUp":c.preventDefault(),p(r=>Math.max(r-1,0));break;case"Enter":c.preventDefault(),a[m]&&(h(a[m]),i());break}};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[o,m,a,i,h]),x.useEffect(()=>{p(n=>Math.min(n,Math.max(0,a.length-1)))},[a.length]),o?e.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-start justify-center pt-24 px-4",onClick:i,children:e.jsxs("div",{className:`w-full max-w-2xl rounded-lg shadow-lg overflow-hidden border ${t.componentsStyles.searchModalBorders}`,onClick:n=>n.stopPropagation(),children:[e.jsx("div",{className:`flex items-center border-b px-4 py-2 ${t.componentsStyles.searchModalHeader} ${t.componentsStyles.searchModalBorders}`,children:e.jsx("input",{ref:u,type:"text",value:d,onChange:n=>{S(n.target.value),p(0)},placeholder:"Search documentation...",className:"flex-1 px-3 py-2 text-sm focus:outline-none"})}),e.jsx("div",{className:`max-h-96 overflow-y-auto ${t.componentsStyles.searchModalResultBackground}`,children:d?a.length===0?e.jsx("p",{className:"text-gray-500 text-sm text-center py-6",children:"No results found"}):e.jsx("ul",{children:a.map((n,c)=>{var y,g;const r=d.toLowerCase(),l=n.content.find(s=>{var j;return["description","quote"].includes(s.type)||s.type.startsWith("title")?s.content.toLowerCase().includes(r):s.type==="list"?(j=s.listItems)==null?void 0:j.some(w=>w.toLowerCase().includes(r)):s.type==="code"?s.content.toLowerCase().includes(r):!1}),f=(l==null?void 0:l.type)==="list"?(y=l.listItems)==null?void 0:y.find(s=>s.toLowerCase().includes(r)):l==null?void 0:l.content;return e.jsxs("li",{onClick:()=>{h(n),i()},className:`px-4 py-3 cursor-pointer ${m===c?t.componentsStyles.searchModalSelectedItem:t.componentsStyles.searchModalItem}`,children:[e.jsx("div",{className:`${t.textStyles.searchModalItemHeaderText}`,dangerouslySetInnerHTML:{__html:v(n.title,d)}}),f&&e.jsx("p",{className:`${t.textStyles.searchModalItemFoundSectionText}`,dangerouslySetInnerHTML:{__html:v(f,d)}}),((g=n.tags)==null?void 0:g.length)&&e.jsx("div",{className:`${t.textStyles.searchModalItemTags}`,children:n.tags.join(", ")})]},n.id)})}):e.jsx("p",{className:"text-gray-400 text-sm text-center py-6",children:"Start typing to search..."})}),e.jsxs("div",{className:`border-t px-4 py-2 flex justify-between items-center ${t.componentsStyles.searchModalFooter} ${t.componentsStyles.searchModalBorders}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("kbd",{className:`px-1.5 py-0.5 pointer-events-none ${t.componentsStyles.keyHints}`,children:"↑"}),e.jsx("kbd",{className:`px-1.5 py-0.5 pointer-events-none ${t.componentsStyles.keyHints}`,children:"↓"}),e.jsx("span",{className:`${t.textStyles.hints}`,children:"to navigate"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("kbd",{className:`px-1.5 py-0.5 pointer-events-none ${t.componentsStyles.keyHints}`,children:"Enter"}),e.jsx("span",{className:`${t.textStyles.hints}`,children:"to select"})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("kbd",{className:`px-1.5 py-0.5 pointer-events-none ${t.componentsStyles.keyHints}`,children:"Esc"}),e.jsx("span",{className:`${t.textStyles.hints}`,children:"to close"})]})]})]})}):null};export{$ as default};
