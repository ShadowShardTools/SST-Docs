import{c as u,r as x,j as e}from"./index-BHjTVa7Y.js";import{X as b}from"./x-Cxkrtzpv.js";/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],L=u("arrow-down",k);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],M=u("arrow-up",E);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["polyline",{points:"9 10 4 15 9 20",key:"r3jprv"}],["path",{d:"M20 4v7a4 4 0 0 1-4 4H4",key:"6o5b7l"}]],D=u("corner-down-left",_),j=(c,n)=>c.replace(new RegExp(`(${n})`,"ig"),'<mark class="bg-yellow-200">$1</mark>'),S=({isOpen:c,onClose:n,searchTerm:o,onSearchChange:v,results:a,onSelect:m})=>{const[p,d]=x.useState(0),f=x.useRef(null);return x.useEffect(()=>{c?setTimeout(()=>{var t;return(t=f.current)==null?void 0:t.focus()},100):d(0)},[c]),x.useEffect(()=>{const t=l=>{if(c)switch(l.key){case"Escape":l.preventDefault(),n();break;case"ArrowDown":l.preventDefault(),d(r=>Math.min(r+1,a.length-1));break;case"ArrowUp":l.preventDefault(),d(r=>Math.max(r-1,0));break;case"Enter":l.preventDefault(),a[p]&&(m(a[p]),n());break}};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[c,p,a,n,m]),x.useEffect(()=>{d(t=>Math.min(t,Math.max(0,a.length-1)))},[a.length]),c?e.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-start justify-center pt-24 px-4",onClick:n,children:e.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-lg shadow-lg overflow-hidden border",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center border-b px-4 py-2",children:[e.jsx("input",{ref:f,type:"text",value:o,onChange:t=>{v(t.target.value),d(0)},placeholder:"Search documentation...",className:"flex-1 px-3 py-2 text-sm focus:outline-none"}),e.jsx("button",{onClick:n,className:"text-gray-400 hover:text-black",children:e.jsx(b,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:o?a.length===0?e.jsx("p",{className:"text-gray-500 text-sm text-center py-6",children:"No results found"}):e.jsx("ul",{children:a.map((t,l)=>{var w,y;const r=o.toLowerCase(),i=t.content.find(s=>{var g;return["description","quote"].includes(s.type)||s.type.startsWith("title")?s.content.toLowerCase().includes(r):s.type==="list"?(g=s.listItems)==null?void 0:g.some(N=>N.toLowerCase().includes(r)):s.type==="code"?s.content.toLowerCase().includes(r):!1}),h=(i==null?void 0:i.type)==="list"?(w=i.listItems)==null?void 0:w.find(s=>s.toLowerCase().includes(r)):i==null?void 0:i.content;return e.jsxs("li",{onClick:()=>{m(t),n()},className:`px-4 py-3 cursor-pointer ${p===l?"bg-blue-50":""}`,children:[e.jsx("div",{className:"text-sm font-medium text-gray-800",dangerouslySetInnerHTML:{__html:j(t.title,o)}}),h&&e.jsx("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2",dangerouslySetInnerHTML:{__html:j(h,o)}}),((y=t.tags)==null?void 0:y.length)&&e.jsx("div",{className:"text-[11px] text-gray-400 mt-0.5 italic truncate",children:t.tags.join(", ")})]},t.id)})}):e.jsx("p",{className:"text-gray-400 text-sm text-center py-6",children:"Start typing to search..."})}),e.jsxs("div",{className:"border-t px-4 py-2 text-xs text-gray-400 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(M,{className:"w-4 h-4"}),e.jsx(L,{className:"w-4 h-4"}),"to navigate"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(D,{className:"w-4 h-4"}),"to select"]})]}),e.jsx("span",{children:"esc to close"})]})]})}):null};export{S as default};
