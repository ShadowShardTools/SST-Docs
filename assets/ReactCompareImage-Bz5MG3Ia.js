import{r as l}from"./index-CyEw6W5r.js";var O={exports:{}},L={},T;function ne(){if(T)return L;T=1;var i=Symbol.for("react.transitional.element"),o=Symbol.for("react.fragment");function d(e,s,x){var b=null;if(x!==void 0&&(b=""+x),s.key!==void 0&&(b=""+s.key),"key"in s){x={};for(var w in s)w!=="key"&&(x[w]=s[w])}else x=s;return s=x.ref,{$$typeof:i,type:e,key:b,ref:s!==void 0?s:null,props:x}}return L.Fragment=o,L.jsx=d,L.jsxs=d,L}var Y;function re(){return Y||(Y=1,O.exports=ne()),O.exports}var t=re(),ie="Invariant failed";function q(i,o){if(!i)throw new Error(ie)}function oe(i){const o=l.useRef(null);return l.useLayoutEffect(()=>{if(!o.current)return;const d=new ResizeObserver(e=>{q(e[0]),i(e[0].contentRect.width)});return d.observe(o.current),i(o.current.getBoundingClientRect().width),()=>{d.disconnect()}},[i]),o}function se(i,o,d,e){const s=e==="taller"?Math.max(o,d):Math.min(o,d);return i*s}function _(i){return i.naturalHeight/i.naturalWidth}const le=i=>{const{aspectRatio:o="taller",handle:d=null,handleSize:e=40,hover:s=!1,leftImage:x,leftImageAlt:b="",leftImageCss:w={},leftImageLabel:P=null,onSliderPositionChange:G,rightImage:A,rightImageAlt:J="",rightImageCss:K={},rightImageLabel:D=null,skeleton:M=null,sliderLineColor:$="#ffffff",sliderLineWidth:y=2,sliderPositionPercentage:N=.5,vertical:U=!1}=i,n=!U,[u,V]=l.useState(N),[F,B]=l.useState(!1),[p,Z]=l.useState(0),[c,Q]=l.useState(0),g=oe(a=>Z(a)),E=l.useRef(null),j=l.useRef(null),[v,W]=l.useState(!1),C=l.useCallback(()=>{j.current?.complete&&E.current?.complete&&W(!0)},[]);l.useEffect(()=>(C(),()=>{W(!1)}),[x,A,C]),l.useEffect(()=>{if(!(j.current&&E.current)||p===0||!v)return;const a=se(p,_(j.current),_(E.current),o);Q(a)},[p,v,o]),l.useEffect(()=>{if(!g.current||!v)return;const a=f=>{if(!g.current)return;const X=g.current.getBoundingClientRect();let S,k;if(f instanceof TouchEvent){const z=f.touches[0];q(z),S=z.clientX,k=z.clientY}else S=f.clientX,k=f.clientY;const ee=n?S-X.left:k-X.top,R=y/2,te=n?p-R:c-R,H=Math.min(Math.max(ee,R),te)/(n?p:c);V(H),G?.(H)},I=f=>{B(!0),"touches"in f||f.preventDefault(),a(f),window.addEventListener("mousemove",a),window.addEventListener("touchmove",a)},m=()=>{B(!1),window.removeEventListener("mousemove",a),window.removeEventListener("touchmove",a)},h=g.current;return h.addEventListener("touchstart",I),window.addEventListener("touchend",m),s?(h.addEventListener("mousemove",a),h.addEventListener("mouseleave",m)):(h.addEventListener("mousedown",I),window.addEventListener("mouseup",m)),()=>{h.removeEventListener("touchstart",I),window.removeEventListener("touchend",m),h.removeEventListener("mousemove",a),h.removeEventListener("mouseleave",m),h.removeEventListener("mousedown",I),window.removeEventListener("mouseup",m),window.removeEventListener("mousemove",a),window.removeEventListener("touchmove",a)}},[v,o,c,p,n,s,y,g]);const r={container:{boxSizing:"border-box",position:"relative",width:"100%",height:`${c}px`,overflow:"hidden"},rightImage:{clipPath:n?`inset(0px 0px 0px ${p*u}px)`:`inset(${c*u}px 0px 0px 0px)`,display:"block",height:"100%",objectFit:"cover",position:"absolute",width:"100%",...K},leftImage:{clipPath:n?`inset(0px ${p*(1-u)}px 0px 0px)`:`inset(0px 0px ${c*(1-u)}px 0px)`,display:"block",height:"100%",objectFit:"cover",position:"absolute",width:"100%",...w},slider:{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",...n?{cursor:"ew-resize",flexDirection:"column",height:"100%",left:`${p*u-e/2}px`,top:0,width:`${e}px`}:{cursor:"ns-resize",flexDirection:"row",height:`${e}px`,left:0,top:`${c*u-e/2}px`,width:"100%"}},line:{background:$,boxShadow:"0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)",flex:"0 1 auto",height:n?"100%":`${y}px`,width:n?`${y}px`:"100%"},handleCustom:{alignItems:"center",boxSizing:"border-box",display:"flex",flex:"1 0 auto",height:"auto",justifyContent:"center",width:"auto"},handleDefault:{alignItems:"center",border:`${y}px solid ${$}`,borderRadius:"100%",boxShadow:"0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)",boxSizing:"border-box",display:"flex",flex:"1 0 auto",height:`${e}px`,justifyContent:"center",width:`${e}px`,transform:n?"none":"rotate(90deg)"},leftArrow:{border:`inset ${e*.15}px rgba(0,0,0,0)`,borderRight:`${e*.15}px solid ${$}`,height:"0px",marginLeft:`-${e*.25}px`,marginRight:`${e*.25}px`,width:"0px"},rightArrow:{border:`inset ${e*.15}px rgba(0,0,0,0)`,borderLeft:`${e*.15}px solid ${$}`,height:"0px",marginRight:`-${e*.25}px`,width:"0px"},leftLabel:{background:"rgba(0, 0, 0, 0.5)",color:"white",left:n?"5%":"50%",opacity:F?0:1,padding:"10px 20px",position:"absolute",top:n?"50%":"3%",transform:n?"translate(0,-50%)":"translate(-50%, 0)",transition:"opacity 0.1s ease-out"},rightLabel:{background:"rgba(0, 0, 0, 0.5)",color:"white",opacity:F?0:1,padding:"10px 20px",position:"absolute",...n?{right:"5%",top:"50%",transform:"translate(0,-50%)"}:{left:"50%",bottom:"3%",transform:"translate(-50%, 0)"},transition:"opacity 0.1s ease-out"},leftLabelContainer:{clipPath:n?`inset(0px ${p*(1-u)}px 0px 0px)`:`inset(0px 0px ${c*(1-u)}px 0px)`,height:"100%",position:"absolute",width:"100%"},rightLabelContainer:{clipPath:n?`inset(0px 0px 0px ${p*u}px)`:`inset(${c*u}px 0px 0px 0px)`,height:"100%",position:"absolute",width:"100%"}};return t.jsxs(t.Fragment,{children:[M&&!v&&t.jsx("div",{style:{...r.container},children:M}),t.jsxs("div",{style:{...r.container,display:v?"block":"none"},ref:g,"data-testid":"container",children:[t.jsx("img",{onLoad:()=>C(),alt:J,"data-testid":"right-image",ref:E,src:A,style:r.rightImage}),t.jsx("img",{onLoad:()=>C(),alt:b,"data-testid":"left-image",ref:j,src:x,style:r.leftImage}),t.jsxs("div",{style:r.slider,children:[t.jsx("div",{style:r.line}),d?t.jsx("div",{style:r.handleCustom,children:d}):t.jsxs("div",{style:r.handleDefault,children:[t.jsx("div",{style:r.leftArrow}),t.jsx("div",{style:r.rightArrow})]}),t.jsx("div",{style:r.line})]}),P&&t.jsx("div",{style:r.leftLabelContainer,children:t.jsx("div",{style:r.leftLabel,children:P})}),D&&t.jsx("div",{style:r.rightLabelContainer,children:t.jsx("div",{style:r.rightLabel,children:D})})]})]})};export{le as default};
